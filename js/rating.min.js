!function(){const t=Math.random()<.5?"feedbackOnly":"reasonWithFeedback";new class{constructor(t,e,s,i){this.texts=t,this.minAllowed=e,this.feedbackMode=s,this.submitCallback=i,this.createDialogue(),this.addEventListeners()}createDialogue(){this.createContainer(),this.createRatingStage(),this.createFeedbackStage(),this.createReasonStage(),document.body.appendChild(this.dialogue)}createContainer(){this.dialogue=document.createElement("div"),this.dialogue.style.position="fixed",this.dialogue.style.bottom=window.innerWidth<=768?"10px":"20px",this.dialogue.style.right=window.innerWidth<=768?"10px":"20px",this.dialogue.style.width=window.innerWidth<=768?"90%":"300px",this.dialogue.style.padding="10px",this.dialogue.style.backgroundColor="#f1f1f1",this.dialogue.style.border="1px solid #ccc",this.dialogue.style.boxShadow="0px 0px 10px rgba(0, 0, 0, 0.1)",this.dialogue.style.zIndex="1000",this.dialogue.style.borderRadius="5px"}createRatingStage(){this.ratingStage=document.createElement("div");const t=document.createElement("p");t.style.fontWeight="900",t.textContent=this.texts.ratingTitle,this.ratingStage.appendChild(t),this.stars=[];for(let t=1;t<=5;t++){const e=document.createElement("span");e.textContent="â˜†",e.style.fontSize="24px",e.style.cursor="pointer",e.style.color="#ccc",e.setAttribute("data-value",t),this.stars.push(e),this.ratingStage.appendChild(e)}this.nextButtonWrapper=document.createElement("div"),this.nextButtonWrapper.style.marginTop="10px",this.nextButtonWrapper.style.textAlign="right",this.nextButtonWrapper.style.display="none",this.nextButton=document.createElement("button"),this.nextButton.textContent=this.texts.nextButtonText,this.nextButton.style.padding="5px 10px",this.nextButton.style.backgroundColor="#007bff",this.nextButton.style.color="#fff",this.nextButton.style.border="none",this.nextButton.style.cursor="pointer",this.nextButton.style.borderRadius="3px",this.nextButtonWrapper.appendChild(this.nextButton),this.ratingStage.appendChild(this.nextButtonWrapper),this.dialogue.appendChild(this.ratingStage)}createFeedbackStage(){this.feedbackStage=document.createElement("div"),this.feedbackStage.style.display="none";const t=document.createElement("p");t.textContent=this.texts.feedbackTitle,t.style.fontWeight="900",this.feedbackStage.appendChild(t),this.feedbackTextArea=document.createElement("textarea"),this.feedbackTextArea.style.width="95%",this.feedbackTextArea.style.height="60px",this.feedbackTextArea.style.padding="5px",this.feedbackTextArea.style.borderRadius="3px",this.feedbackTextArea.style.border="1px solid #ccc",this.feedbackTextArea.style.fontFamily="Arial, sans-serif",this.feedbackTextArea.style.resize="none",this.feedbackStage.appendChild(this.feedbackTextArea),this.submitButtonWrapper=document.createElement("div"),this.submitButtonWrapper.style.marginTop="10px",this.submitButtonWrapper.style.textAlign="right",this.submitButton=document.createElement("button"),this.submitButton.textContent=this.texts.submitButtonText,this.submitButton.style.padding="5px 10px",this.submitButton.style.backgroundColor="#ccc",this.submitButton.style.color="#666",this.submitButton.style.border="none",this.submitButton.style.cursor="not-allowed",this.submitButton.style.borderRadius="3px",this.submitButton.disabled=!0,this.submitButtonWrapper.appendChild(this.submitButton),this.feedbackStage.appendChild(this.submitButtonWrapper),this.dialogue.appendChild(this.feedbackStage)}createReasonStage(){this.reasonStage=document.createElement("div"),this.reasonStage.style.display="none",this.reasonTitle=document.createElement("p"),this.reasonTitle.textContent=this.texts.reasonTitle,this.reasonTitle.style.fontWeight="900",this.reasonStage.appendChild(this.reasonTitle),this.reasonSelect=document.createElement("select"),this.reasonSelect.style.width="100%",this.reasonSelect.style.paddingTop="5px",this.reasonSelect.style.paddingBottom="10px",this.reasonSelect.style.borderRadius="3px",this.reasonSelect.style.border="1px solid #ccc",this.reasonSelect.style.marginBottom="10px";const t=document.createElement("option");t.value="",t.textContent=this.texts.selectReason,t.disabled=!0,t.selected=!0,this.reasonSelect.appendChild(t),this.texts.reasons.forEach((t=>{const e=document.createElement("option");e.value=t,e.textContent=t,this.reasonSelect.appendChild(e)})),this.reasonStage.appendChild(this.reasonSelect),this.feedbackTitle=document.createElement("p"),this.feedbackTitle.textContent=this.texts.feedbackTitle,this.feedbackTitle.style.fontWeight="900",this.reasonStage.appendChild(this.feedbackTitle),this.reasonFeedbackTextArea=document.createElement("textarea"),this.reasonFeedbackTextArea.style.width="95%",this.reasonFeedbackTextArea.style.height="60px",this.reasonFeedbackTextArea.style.padding="5px",this.reasonFeedbackTextArea.style.borderRadius="3px",this.reasonFeedbackTextArea.style.border="1px solid #ccc",this.reasonFeedbackTextArea.style.resize="none",this.reasonStage.appendChild(this.reasonFeedbackTextArea),this.reasonSubmitButtonWrapper=document.createElement("div"),this.reasonSubmitButtonWrapper.style.marginTop="10px",this.reasonSubmitButtonWrapper.style.textAlign="right",this.reasonSubmitButton=document.createElement("button"),this.reasonSubmitButton.textContent=this.texts.submitButtonText,this.reasonSubmitButton.style.padding="5px 10px",this.reasonSubmitButton.style.backgroundColor="#ccc",this.reasonSubmitButton.style.color="#666",this.reasonSubmitButton.style.border="none",this.reasonSubmitButton.style.cursor="not-allowed",this.reasonSubmitButton.style.borderRadius="3px",this.reasonSubmitButton.disabled=!0,this.reasonSubmitButtonWrapper.appendChild(this.reasonSubmitButton),this.reasonStage.appendChild(this.reasonSubmitButtonWrapper),this.dialogue.appendChild(this.reasonStage)}addEventListeners(){this.stars.forEach(((t,e)=>{t.addEventListener("mouseover",(()=>this.handleStarHover(e))),t.addEventListener("click",(()=>this.handleStarClick(e)))})),this.nextButton.addEventListener("click",(()=>this.handleNextButtonClick())),this.feedbackTextArea.addEventListener("input",(()=>this.handleFeedbackInput())),this.reasonSelect.addEventListener("change",(()=>this.handleReasonSelectChange())),this.reasonFeedbackTextArea.addEventListener("input",(()=>this.handleReasonFeedbackInput())),this.submitButton.addEventListener("click",(()=>this.handleSubmitFeedback())),this.reasonSubmitButton.addEventListener("click",(()=>this.handleSubmitReasonFeedback()))}handleStarHover(t){this.stars.forEach(((e,s)=>{e.style.color=s<=t?"#ff9800":"#ccc"}))}handleStarClick(t){this.stars.forEach(((e,s)=>{e.style.color=s<=t?"#ff9800":"#ccc"})),this.nextButtonWrapper.style.display="block"}handleNextButtonClick(){this.ratingStage.style.display="none","feedbackOnly"===this.feedbackMode?this.feedbackStage.style.display="block":this.reasonStage.style.display="block"}handleFeedbackInput(){this.feedbackTextArea.value.length>=this.minAllowed?(this.submitButton.style.backgroundColor="#007bff",this.submitButton.style.color="#fff",this.submitButton.style.cursor="pointer",this.submitButton.disabled=!1):(this.submitButton.style.backgroundColor="#ccc",this.submitButton.style.color="#666",this.submitButton.style.cursor="not-allowed",this.submitButton.disabled=!0)}handleReasonSelectChange(){this.checkReasonAndFeedback()}handleReasonFeedbackInput(){this.checkReasonAndFeedback()}checkReasonAndFeedback(){this.reasonSelect.value&&this.reasonFeedbackTextArea.value.length>=this.minAllowed?(this.reasonSubmitButton.style.backgroundColor="#007bff",this.reasonSubmitButton.style.color="#fff",this.reasonSubmitButton.style.cursor="pointer",this.reasonSubmitButton.disabled=!1):(this.reasonSubmitButton.style.backgroundColor="#ccc",this.reasonSubmitButton.style.color="#666",this.reasonSubmitButton.style.cursor="not-allowed",this.reasonSubmitButton.disabled=!0)}handleSubmitFeedback(){const t=this.stars.filter((t=>"rgb(255, 152, 0)"===t.style.color)).length,e=this.feedbackTextArea.value;console.log("Rating:",t),console.log("Feedback:",e),"function"==typeof this.submitCallback&&this.submitCallback({rating:t,feedback:e}),alert(this.texts.thankYouMessage),this.dialogue.remove()}handleSubmitReasonFeedback(){const t=this.stars.filter((t=>"rgb(255, 152, 0)"===t.style.color)).length,e=this.reasonFeedbackTextArea.value,s=this.reasonSelect.value;console.log("Rating:",t),console.log("Reason:",s),console.log("Feedback:",e),"function"==typeof this.submitCallback&&this.submitCallback({rating:t,reason:s,feedback:e}),alert(this.texts.thankYouMessage),this.dialogue.remove()}}({ratingTitle:"Please rate us:",feedbackTitle:"Please leave your feedback:",reasonTitle:"Why did you visit us today?",nextButtonText:"Next",submitButtonText:"Submit",thankYouMessage:"Thank you for your feedback!",selectReason:"Select a reason",reasons:["Customer Support","Product Inquiry","Technical Issue","General Question","Other"]},35,t,(function(t){console.log("Submitting data:",t)}))}();